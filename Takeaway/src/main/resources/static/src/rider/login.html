<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"
          charset="utf-8"/>
    <title>骑手登录页面</title>
    <script src="../../js/jquery-3.6.0.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/bootstrap.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="../../css/bootstrap.css"/>
</head>
<body>
<form class="form-horizontal">
    <div class="form-group">
        <label for="inputRid" class="col-sm-2 control-label">骑手ID</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="inputRid" placeholder="请输入姓名">
        </div>
    </div>
    <div class="form-group">
        <label for="inputPassword" class="col-sm-2 control-label">密码</label>
        <div class="col-sm-10">
            <input type="password" class="form-control" id="inputPassword" placeholder="Password">
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
                <label>
                    <input type="checkbox"> Remember me
                </label>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="button" class="btn btn-default" id="loginBtn">登录</button>
            <button type="button" class="btn btn-primary" onclick="location.href='register.html'">还没有账号呢,请注册</button>
        </div>
    </div>
</form>
</body>
<script>
    $(function () {
        $("#loginBtn").click(function () {
            $.ajax({
                url:"../../rider/login",
                type:"post",
                data:{
                    "rid":$("#inputRid").val(),
                    "pwd":$("#inputPassword").val(),
                },
                dataType:"json",
                success(res){
                    if(res.code =="001"){
                        alert(res.msg);
                        sessionStorage.setItem("rider",res.data);
                        location.href = "main.html";
                    }else if(res.code == "002"){
                        alert(res.msg);
                    }
                },error(msg){
                    alert("发送登录请求失败");
                }
            })
        })
    })
</script>
</html>